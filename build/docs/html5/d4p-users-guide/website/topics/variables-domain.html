<html lang="" xml:lang="">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <title>DITA For Publishers User Guide - Variables Domain W. Eliot Kimber DITA For Publishers DITA For Publishers DomainsThe D4P vocabulary
         modules include a number of domains you can use to augment both map and topic types.Ruby DomainProvides markup based on the
         HTML 5 ruby elements for annotating ideographic characters as is done in Japanese-language documents.Verse DomainThe verse
         domain provides markup for representing poetry, songs, and other line-oriented content organized into stanzas.
      </title>
      
      <meta charset="utf-8">
      
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      
      <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
      
      <link rel="schema.DC" href="http://purl.org/dc/terms/">
      <meta name="DC.Type" content="concept">
      
      <meta name="DC.Title" content="Variables Domain">
      
      <meta name="abstract" content="The variables domain provides markup for declaring and referencing variables that are scoped by the map and topic hierarchy.">
      
      <meta name="description" content="The variables domain provides markup for declaring and referencing variables that are scoped by the map and topic hierarchy.">
      
      <meta name="DC.Relation" scheme="URI" content="../../user_docs/d4p-users-guide/vocabulary-part/domain-modules-overview.html">
      
      <meta name="DC.Relation" scheme="URI" content="ruby-domain.html">
      
      <meta name="DC.Relation" scheme="URI" content="versie-domain.html">
      
      <meta name="prodname" content="DITA For Publishers">
      
      <meta name="version" content="0.9.19RC10">
      
      <meta name="DC.Creator" content="W. Eliot Kimber">
      
      <meta name="DC.Format" content="XHTML">
      
      <meta name="DC.Identifier" content="conceptId">
      
      
      <link rel="stylesheet" type="text/css" href="../../themes/d4p-classic/css/style-min.css">
      <script type="text/javascript" src="../../themes/d4p-classic/js/script-min.js">
</script>
      <script type="text/javascript">
d4p.setProps({"outputSelector":"#d4h5-main-content","navigationSelector":"#nav-content","externalContentElement":"section","loaderParentElement":"body","navigation":{"buttons":true,"leaf":"ui-icon-circlesmall-plus","leafActive":"ui-icon-circlesmall-minus"}});
$(function(){d4p.init({relativePath:'../../', });});</script>
      </head>
   
   <body class="en-us d4p-classic img-with-shadow">
      <div id="d4h5-main-container" class="container_12" role="application">
         
         <ul id="page-links" class="hidden">
            <li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li>
            <li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li>
            <li><a id="skip-to-footer" href="#footer">Skip to footer</a></li>
         </ul>
         <header role="banner" aria-labelledby="publication-title">
            <h1 id="publication-title">DITA For Publishers User Guide</h1>
            <form id="search" action=""><input id="search-text" type="text" autocomplete="off" placeholder="Search the documentation..." name="search"></form>
         </header>
         <div id="d4h5-section-container" class="grid_12">
            <nav id="local-navigation" role="navigation" aria-label="Main navigation" class="grid_4 alpha omega">
               <div id="nav-content">
                  <div class="nav-pub-title">
                     <h2 class="nav-pub-title">
                        <span class="ph mainpubtitle">DITA For Publishers User Guide</span>
                        
                     </h2>
                     
                  </div>
                  <ul>
                     <li><a href="../../user_docs/d4p-users-guide/frontmatter/coverpage.html">DITA For Publishers User Guide</a></li>
                     <li><a href="../../user_docs/d4p-users-guide/topics/about-this-book.html">About This Book</a></li>
                     <li><a href="../../user_docs/d4p-users-guide/release-notes/release-notes.html">Release Notes</a><ul>
                           <li><a href="../../user_docs/d4p-users-guide/release-notes/release-notes-0.9.19.html">Release Notes: Version 0.9.19</a></li>
                           <li><a href="../../user_docs/d4p-users-guide/release-notes/release-notes-0.9.18.html">Release Notes: Version 0.9.18</a></li>
                           <li><a href="../../user_docs/d4p-users-guide/release-notes/release-notes-0.9.16.html">Release Notes: Version 0.9.16</a></li>
                           <li><a href="../../user_docs/d4p-users-guide/release-notes/release-notes-0.9.15.html">Release Notes: Version 0.9.15</a></li>
                           <li><a href="../../user_docs/d4p-users-guide/release-notes/release-notes-0.9.14.html">Release Notes: Version 0.9.14</a></li>
                           <li><a href="../../user_docs/d4p-users-guide/release-notes/release-notes-0.9.13.html">Release Notes: Version 0.9.13</a></li>
                           <li><a href="../../user_docs/d4p-users-guide/release-notes/release-notes-0.9.12.html">Release Notes: Version 0.9.12</a></li>
                           <li><a href="../../user_docs/d4p-users-guide/release-notes/release-notes-0.9.11.html">Release Notes: Version 0.9.11</a></li>
                           <li><a href="../../user_docs/d4p-users-guide/release-notes/release-notes-0.9.10.html">Release Notes: Version 0.9.10</a></li>
                           <li><a href="../../user_docs/d4p-users-guide/release-notes/release-notes-0.9.9.html">Release Notes: Version 0.9.9</a></li>
                        </ul>
                     </li>
                     <li><a href="../../user_docs/d4p-users-guide/topics/intro-to-d4p.html"><span class="enumeration enumeration0">Chapter 1. </span>Introduction to DITA For Publishers</a></li>
                     <li><a href="../../user_docs/d4p-users-guide/introduction-chapter.html"><span class="enumeration enumeration0">Part I. </span>The DITA For Publishers Open Toolkit Plugins</a><ul>
                           <li><a href="../../user_docs/d4p-users-guide/tasks/plugin-installation.html"><span class="enumeration enumeration1">Chapter 2. </span>Installing the Toolkit Plugins</a><ul>
                                 <li><a href="../../user_docs/d4p-users-guide/epub-plugin/setting-up-kindlegen.html">Setting Up The kindlegen Command-Line Utility</a></li>
                              </ul>
                           </li>
                           <li><a href="../../user_docs/d4p-users-guide/epub-plugin/generating-epubs.html"><span class="enumeration enumeration1">Chapter 3. </span>Generating EPUBs and Kindle Books from DITA Content</a><ul>
                                 <li><a href="../../user_docs/d4p-users-guide/epub-plugin/generating-epubs-from-oxygen.html">Generating EPUBs From OxygenXML</a></li>
                                 <li><a href="../../user_docs/d4p-users-guide/epub-plugin/generating-kindle-books-from-oxygen.html">Generating Kindle Books From OxygenXML</a></li>
                                 <li><a href="../../user_docs/d4p-users-guide/epub-plugin/using-custom-css.html">Using Custom CSS Style Sheets</a></li>
                                 <li><a href="../../user_docs/d4p-users-guide/epub-plugin/creating-cover-graphics.html">Creating Cover Graphics and Covers</a></li>
                                 <li><a href="../../user_docs/d4p-users-guide/epub-plugin/creating-opf-metadata.html">Creating Arbitrary EPUB OPF Metadata</a></li>
                                 <li><a href="../../user_docs/d4p-users-guide/epub-plugin/overriding-base-processing.html">Implementing Overrides for Common Processing</a></li>
                                 <li><a href="../../user_docs/d4p-users-guide/epub-plugin/epub-transtype-parameters-ref.html">EPUB and Kindle Transformation Parameters</a><ul>
                                       <li><a href="../../user_docs/d4p-users-guide/epub-plugin/reference/ant-parm-argsCssOutputDir.html">args.css.output.dir Ant parameter</a></li>
                                       <li><a href="../../user_docs/d4p-users-guide/epub-plugin/reference/ant-parm-coverGraphicFile.html">cover.graphic.file Ant parameter</a></li>
                                       <li><a href="../../user_docs/d4p-users-guide/epub-plugin/reference/ant-parm-d4pMaxNavDepth.html">d4p.max.nav.depth Ant parameter</a></li>
                                       <li><a href="../../user_docs/d4p-users-guide/epub-plugin/reference/ant-parm-d4pMaxTocDepth.html">d4p.max.toc.depth Ant parameter</a></li>
                                       <li><a href="../../user_docs/d4p-users-guide/epub-plugin/reference/ant-parm-epubIncludeAutoRellinks.html">epub.exclude.auto.rellinks Ant parameter</a></li>
                                       <li><a href="../../user_docs/d4p-users-guide/epub-plugin/reference/ant-parm-epubPubidUriStub.html">epub.pubid.uri.stub Ant parameter</a></li>
                                       <li><a href="../../user_docs/d4p-users-guide/epub-plugin/reference/ant-parm-epubTempDir.html">epub.temp.dir Ant parameter</a></li>
                                       <li><a href="../../user_docs/d4p-users-guide/epub-plugin/reference/ant-parm-imagesOutputDir.html">images.output.dir Ant parameter</a></li>
                                       <li><a href="../../user_docs/d4p-users-guide/epub-plugin/reference/ant-parm-kindleGenExecutable.html">kindlegen.executable Ant parameter</a></li>
                                       <li><a href="../../user_docs/d4p-users-guide/epub-plugin/reference/ant-parm-titleOnlyTopicClassSpec.html">title.only.topic.class.spec Ant parameter</a></li>
                                       <li><a href="../../user_docs/d4p-users-guide/epub-plugin/reference/ant-parm-titleOnlyTopicTitleClassSpec.html">title.only.topic.title.class.spec Ant parameter</a></li>
                                       <li><a href="../../user_docs/d4p-users-guide/epub-plugin/reference/ant-parm-topicsOutputDir.html">topics.output.dir Ant parameter</a></li>
                                    </ul>
                                 </li>
                              </ul>
                           </li>
                           <li><a href="../../user_docs/d4p-users-guide/map-driven-processing/map-driven-processing.html"><span class="enumeration enumeration1">Chapter 4. </span>Map-Driven Processing</a><ul>
                                 <li><a href="../../user_docs/d4p-users-guide/map-driven-processing/data-collection.html">Data Collection Processing Phase</a></li>
                                 <li><a href="../../user_docs/d4p-users-guide/map-driven-processing/enumeration.html">Numbering Things: Collected Data and Enumeration</a></li>
                                 <li><a href="../../user_docs/d4p-users-guide/map-driven-processing/index-generation.html">Index Generation</a></li>
                                 <li><a href="../../user_docs/d4p-users-guide/map-driven-processing/graphic-map-generation.html">Graphic Map Generation</a></li>
                              </ul>
                           </li>
                           <li><a href="../../user_docs/d4p-users-guide/html2-plugin/html2-toolkit-plugin.html"><span class="enumeration enumeration1">Chapter 5. </span>HTML2 Plugin</a><ul>
                                 <li><a href="../../user_docs/d4p-users-guide/html2-plugin/understanding-html2-transforms.html">Understanding the HTML2 Transformations</a><ul>
                                       <li><a href="../../user_docs/d4p-users-guide/html2-plugin/overall-process-flow.html">Overall HTML Generation Process Flow</a></li>
                                       <li><a href="../../user_docs/d4p-users-guide/html2-plugin/customizing-enumeration.html">Extending and Customizing Enumeration Processing (Numbering)</a></li>
                                    </ul>
                                 </li>
                                 <li><a href="../../user_docs/d4p-users-guide/html2-plugin/html2-transtype-parameters-ref.html">HTML2 Transformation Parameters</a><ul>
                                       <li><a href="../../user_docs/d4p-users-guide/html2-plugin/reference/ant-parm-fileOrganizationStrategy.html">html2.file.organization.strategy Ant parameter</a></li>
                                       <li><a href="../../user_docs/d4p-users-guide/html2-plugin/reference/ant-parm-generateDynamicToc.html">html2.generate.dynamic.toc Ant parameter</a></li>
                                       <li><a href="../../user_docs/d4p-users-guide/html2-plugin/reference/ant-parm-generateFrameset.html">html2.generate.frameset Ant parameter</a></li>
                                       <li><a href="../../user_docs/d4p-users-guide/html2-plugin/reference/ant-parm-generateStaticToc.html">html2.generate.static.toc Ant parameter</a></li>
                                    </ul>
                                 </li>
                              </ul>
                           </li>
                           <li><a href="../../user_docs/d4p-users-guide/html5-plugin/html5-toolkit-plugin.html"><span class="enumeration enumeration1">Chapter 6. </span>HTML5 Plugin</a><ul>
                                 <li id="d78e1327">Getting Started
                                    <ul>
                                       <li><a href="../../user_docs/d4p-users-guide/html5-plugin/general/downloading.html">Downloading HTML5 plugin</a></li>
                                       <li><a href="../../user_docs/d4p-users-guide/html5-plugin/general/running.html">Running the html5 plugin</a></li>
                                       <li><a href="../../user_docs/d4p-users-guide/html5-plugin/general/licence.html">License</a></li>
                                    </ul>
                                 </li>
                                 <li id="d78e1360">Features
                                    <ul>
                                       <li><a href="../../user_docs/d4p-users-guide/html5-plugin/features/layout.html">Layout</a></li>
                                       <li><a href="../../user_docs/d4p-users-guide/html5-plugin/features/muti-columns.html">Multiple columns layout</a></li>
                                       <li><a href="../../user_docs/d4p-users-guide/html5-plugin/features/css-grid.html">CSS grid</a></li>
                                       <li><a href="../../user_docs/d4p-users-guide/html5-plugin/features/images.html">Image support</a></li>
                                       <li><a href="../../user_docs/d4p-users-guide/html5-plugin/features/notes.html">Notes</a></li>
                                       <li><a href="../../user_docs/d4p-users-guide/html5-plugin/features/ui-intro.html">UI</a><ul>
                                             <li><a href="../../user_docs/d4p-users-guide/html5-plugin/features/accordion.html">Accordion</a></li>
                                             <li><a href="../../user_docs/d4p-users-guide/html5-plugin/features/ui-images.html">Cycle</a></li>
                                          </ul>
                                       </li>
                                    </ul>
                                 </li>
                                 <li id="d78e1441">Development
                                    <ul>
                                       <li><a href="../../user_docs/d4p-users-guide/html5-plugin/dev/intro.html">Introduction</a></li>
                                       <li><a href="../../user_docs/d4p-users-guide/html5-plugin/dev/directory-structure.html">Directory structure</a></li>
                                       <li><a href="../../user_docs/d4p-users-guide/html5-plugin/dev/theme-dev.html">Theme Development</a><ul>
                                             <li><a href="../../user_docs/d4p-users-guide/html5-plugin/dev/before.html">Before starting a new theme</a></li>
                                             <li><a href="../../user_docs/d4p-users-guide/html5-plugin/dev/theme-development.html">Development of a new theme</a></li>
                                          </ul>
                                       </li>
                                       <li><a href="../../user_docs/d4p-users-guide/html5-plugin/dev/d4p/d4p.html">The d4p javascript object reference</a><ul>
                                             <li><a href="../../user_docs/d4p-users-guide/html5-plugin/dev/d4p/d4p-properties.html">The d4p properties</a><ul>
                                                   <li><a href="../../user_docs/d4p-users-guide/html5-plugin/dev/d4p/properties/version.html">d4p.version</a></li>
                                                   <li><a href="../../user_docs/d4p-users-guide/html5-plugin/dev/d4p/properties/loadInitialContent.html">d4p.loadInitialContent</a></li>
                                                   <li><a href="../../user_docs/d4p-users-guide/html5-plugin/dev/d4p/properties/hash.html">d4p.hash</a></li>
                                                   <li><a href="../../user_docs/d4p-users-guide/html5-plugin/dev/d4p/properties/outputSelector.html">d4p.outputSelector</a></li>
                                                   <li><a href="../../user_docs/d4p-users-guide/html5-plugin/dev/d4p/properties/navigationSelector.html">d4p.navigationSelector:</a></li>
                                                   <li><a href="../../user_docs/d4p-users-guide/html5-plugin/dev/d4p/properties/externalContentElement.html">d4p.externalContentElement</a></li>
                                                </ul>
                                             </li>
                                             <li><a href="../../user_docs/d4p-users-guide/html5-plugin/dev/d4p/ajaxLoader/ajaxLoader.html">The d4p.ajaxLoader object type</a><ul>
                                                   <li><a href="../../user_docs/d4p-users-guide/html5-plugin/dev/d4p/ajaxLoader/methods/methods.html">d4p.ajaxLoader methods</a></li>
                                                </ul>
                                             </li>
                                          </ul>
                                       </li>
                                       <li><a href="../../user_docs/d4p-users-guide/html5-plugin/references/ant-properties.html">Availaible ant properties </a></li>
                                    </ul>
                                 </li>
                                 <li id="d78e1608">Glossary</li>
                                 <li id="d78e1640">Special cases
                                    <ul>
                                       <li><a href="../../user_docs/d4p-users-guide/html5-plugin/cases/long-title.dira.html">Very long title, expected to break into multiple lines</a><ul>
                                             <li><a href="../../user_docs/d4p-users-guide/html5-plugin/cases/subordinate-topic.html">This is a child under the long title</a></li>
                                          </ul>
                                       </li>
                                    </ul>
                                 </li>
                              </ul>
                           </li>
                           <li><a href="../../user_docs/d4p-users-guide/word2dita/word-to-dita-plugin.html"><span class="enumeration enumeration1">Chapter 7. </span>Generating DITA from Documents (Word-to-DITA Transformation Framework)</a></li>
                        </ul>
                     </li>
                     <li><a href="../../user_docs/d4p-users-guide/vocabulary-part/vocabulary-part.html"><span class="enumeration enumeration0">Part II. </span>The DITA For Publishers Markup Vocabulary</a><ul>
                           <li><a href="../../user_docs/d4p-users-guide/vocabulary-part/d4p-vocabulary-concepts.html"><span class="enumeration enumeration1">Chapter 8. </span>Understanding the DITA For Publishers Markup Vocabulary</a><ul>
                                 <li><a href="../../website/topics/specialization-modules-overview.html">DITA for Publishers Vocabulary Modules Overview</a><ul>
                                       <li><a href="../../website/topics/d4p-topic-types.html">Publication Component Topic Types</a></li>
                                       <li><a href="../../website/topics/pubmap-domain.html">Publication Maps</a></li>
                                       <li><a href="../../user_docs/d4p-users-guide/vocabulary-part/domain-modules-overview.html">DITA For Publishers Domains</a><ul>
                                             <li><a href="../../user_docs/d4p-users-guide/vocabulary-part/map-domains-overview.html">Publication Map Domains</a></li>
                                             <li><a href="../../user_docs/d4p-users-guide/vocabulary-part/topic-domains-overview.html">Topic Domains</a></li>
                                             <li><a href="../../website/topics/classification-domain.html">Classification Domain</a></li>
                                             <li><a href="../../website/topics/enumeration-domains.html">Enumeration Domains</a></li>
                                             <li><a href="../../website/topics/formatting-domain.html">Formatting Domain</a></li>
                                             <li><a href="../../website/topics/pubcontent-domain.html">Publication Content Domain</a></li>
                                             <li><a href="../../user_docs/d4p-users-guide/vocabulary-part/rendition-target-att.html">Rendition Target Attribute Domain</a></li>
                                             <li><a href="../../website/topics/ruby-domain.html">Ruby Domain</a></li>
                                             <li><a href="../../website/topics/variables-domain.html">Variables Domain</a></li>
                                             <li><a href="../../website/topics/versie-domain.html">Verse Domain</a></li>
                                             <li><a href="../../website/topics/xml-domain.html">XML Domain</a></li>
                                          </ul>
                                       </li>
                                    </ul>
                                 </li>
                              </ul>
                           </li>
                           <li><a href="../../user_docs/d4p-users-guide/vocabulary-part/integrating-modules.html"><span class="enumeration enumeration1">Chapter 9. </span>Integrating D4P Modules Into Document Type Shells</a><ul>
                                 <li><a href="../../user_docs/d4p-users-guide/vocabulary-part/integrating-attribute-domains.html">Integrating Attribute Domains</a></li>
                              </ul>
                           </li>
                           <li><a href="../../user_docs/d4p-users-guide/vocabulary-part/d4p-vocabulary-reference.html"><span class="enumeration enumeration1">Chapter 10. </span>DITA For Publishers Vocabulary Reference</a></li>
                        </ul>
                     </li>
                     <li><a href="../../user_docs/d4p-users-guide/transform-frameworks-part/transform-frameworks-part.html"><span class="enumeration enumeration0">Part III. </span>The DITA For Publishers Word to DITA and DITA to InDesign Tools</a><ul>
                           <li><a href="../../user_docs/d4p-users-guide/word2dita/word2dita-intro.html"><span class="enumeration enumeration1">Chapter 11. </span>The Word-to-DITA Transformation Framework</a><ul>
                                 <li><a href="../../user_docs/d4p-users-guide/word2dita/w2d-getting-started.html">Getting Started With The Word2DITA Transform</a></li>
                                 <li><a href="../../user_docs/d4p-users-guide/word2dita/word-to-dita-plugin-usage.html">Generating DITA from Word Using the Toolkit Plugin</a><ul>
                                       <li><a href="../../user_docs/d4p-users-guide/word2dita/word-to-dita-ant-task.html">Setting Up an Ant Script for Running the Word-to-DITA Transform</a></li>
                                    </ul>
                                 </li>
                                 <li><a href="../../user_docs/docx2dita_guide_and_reference/word2dita-from-oxygen.html">Generating DITA From Within OxygenXML</a></li>
                                 <li><a href="../../user_docs/docx2dita_guide_and_reference/style-to-tag-map-overview.html">Style to Tag Mapping</a></li>
                                 <li><a href="../../user_docs/d4p-users-guide/word2dita/common-mapping-cases.html">Common Style-to-Tag Mapping Cases</a></li>
                                 <li><a href="../../user_docs/d4p-users-guide/word2dita/troubleshooting-word2dita.html">Troubleshooting the Word-to-DITA Process</a></li>
                                 <li><a href="../../user_docs/d4p-users-guide/word2dita/word2dita-video-tutorial-01.html">Word-to-DITA Style-to-Tag Mapping Video Tutorial</a></li>
                                 <li><a href="../../user_docs/d4p-users-guide/word2dita/customizing-the-transform.html">Extending and Overriding the Word to DITA Transform</a><ul>
                                       <li><a href="../../user_docs/d4p-users-guide/word2dita/sample-customization-transform.html">Sample Custom Word-to-DITA XSLT Stylesheet</a></li>
                                    </ul>
                                 </li>
                                 <li><a href="../../user_docs/d4p-users-guide/word2dita/word-usage-tips.html">Tips for Using Word With the Word-to-DITA Transform</a></li>
                                 <li><a href="../../user_docs/d4p-users-guide/word2dita/transform-parameters.html">Word-to-DITA XSLT Transformation Parameters</a></li>
                                 <li><a href="../../user_docs/d4p-users-guide/word2dita/word2dita-ant-parameters.html">Word-to-DITA Ant Parameters</a></li>
                              </ul>
                           </li>
                           <li><a href="../../user_docs/d4p-users-guide/dita2indesign/dita-to-indesign-framework-chapter.html"><span class="enumeration enumeration1">Chapter 12. </span>The DITA-to-InDesign Transformation Framework</a><ul>
                                 <li><a href="../../user_docs/d4p-users-guide/dita2indesign/indesign-product-overview.html">Overview of the InDesign and InCopy Products</a></li>
                                 <li><a href="../../user_docs/d4p-users-guide/dita2indesign/generating-incopy-articles-from-topics.html">Generating InCopy Articles from DITA Topics</a></li>
                                 <li><a href="../../user_docs/d4p-users-guide/dita2indesign/dita-to-indesign-plugin-usage.html">Generating InDesign from DITA Using the Toolkit Plugin</a></li>
                                 <li><a href="../../user_docs/d4p-users-guide/dita2indesign/generating-incopy-articles.html">Configuring the DITA-to-InDesign Transformation</a><ul>
                                       <li><a href="../../user_docs/d4p-users-guide/dita2indesign/mapping-paragraphs-to-indesign-styles.html">Mapping XML Elements to InDesign Paragraph and Character Styles</a></li>
                                       <li><a href="../../user_docs/d4p-users-guide/dita2indesign/grouped-style-name-syntax.html">Specifying InDesign Grouped Style Names</a></li>
                                    </ul>
                                 </li>
                                 <li><a href="../../user_docs/d4p-users-guide/dita2indesign/indesign-optimization.html">Preparing InDesign Templates for DITA-to-InDesign Use</a></li>
                              </ul>
                           </li>
                        </ul>
                     </li>
                     <li><a href="../../user_docs/d4p-users-guide/appendixes/appendix-01.html"><span class="enumeration enumeration0">Appendix A. </span>This is an Appendix</a></li>
                     <li><a href="../../user_docs/d4p-users-guide/backmatter/colophon.html">Colophon</a></li>
                  </ul>
               </div>
            </nav>
            <div id="d4h5-main-content" class="grid_8 alpha omega">
               <section>
                  <div id="content-toolbar" class="toolbar"></div>
                  <div id="topic-content">
                     <div class="topic concept nested0" id="conceptId">
                        
                        <h1 class="title topictitle1">Variables Domain</h1>
                        
                        
                        <div class="body conbody">
                           <p class="shortdesc">The variables domain provides markup for declaring and referencing
                              variables that are scoped by the map and topic hierarchy.
                           </p>
                           
                           
                           <p class="p">Variables are declared in map metadata, topicref metadata, topic prologs,
                              and topic content. Variable definitions are specializations of
                              <code>&lt;data&gt;</code> and may occur wherever <code>&lt;data&gt;</code> is
                              allowed.
                           </p>
                           
                           
                           <p class="p">References may occur anywhere that <code>&lt;keyword&gt;</code> or
                              <code>&lt;text&gt;</code> is allowed.
                           </p>
                           
                           
                           <p class="p">Variable resolution is done at output processing time, meaning the last
                              step in a normal DITA process. This means that all content references and
                              all filtering should have been applied by the time variable references and
                              definitions are processed. This means you can use normal content reference
                              and filtering facilities to determine the effective values of variable
                              definitions and variable references.
                           </p>
                           
                           
                           <p class="p">Note that as of D4P version 0.9.19 the Variables mechanism does not
                              attempt to cover all use cases. It is intentionally simple so as to make
                              implementation easy and foster use and experimentation in order to gather
                              futher requirements. A complete variables facility, such as would be
                              appropriate for inclusion in the DITA specification, could be quite a bit
                              more complicated. 
                           </p>
                           
                           
                        </div>
                        
                        
                        <div class="related-links">
                           
                           <div id="familylinks">
                              
                           </div>
                           
                        </div>
                        
                        <div class="topic concept nested1" id="topic_yyg_twl_y3">
                           
                           <h2 class="title topictitle2">Variable Definitions: <code>&lt;d4p-variable-definition&gt;</code> and
                              <code>&lt;d4p-variable-definitions&gt;</code></h2>
                           
                           <div class="body conbody">
                              
                              <div class="p">Variable definitions are defined using the
                                 <code>&lt;d4p-variable-definition&gt;</code> element and always contained
                                 by the <code>&lt;d4p-variable-definitions&gt;</code>
                                 element:<pre class="pre codeblock">  &lt;topicmeta&gt;
    <strong class="ph b">&lt;d4p-variable-definitions&gt;</strong>
      <strong class="ph b">&lt;d4p-variable-definition</strong> name="prodname"
       &gt;&lt;tm&gt;MyProduct&lt;/tm&gt;&lt;/d4p-variable-definition&gt;
    &lt;/d4p-variable-definitions&gt;
  &lt;/topicmeta&gt;</pre>
                                 </div>
                              
                              
                              <p class="p">The <code>@name</code> attribute is the name of the variable, by
                                 which it is referenced using <code>&lt;d4p-variableref-keyword&gt;</code>
                                 or <code>&lt;d4p-variableref-text&gt;</code>. The name may be any string.
                                 Because it is defined in an XML attribute, any whitespace in the value
                                 will be normalized to single space characters. This allows you to use
                                 normal content as a variable name if appropriate, e.g.
                                 <samp class="ph codeph">&lt;d4p-variable-definition name="default value for
                                    variable"&gt;...</samp> where that variable name could be appropriate as
                                 the default or fallback value for the variable, as the variable
                                 reference will simply be rendered as-is when there is no declaration for
                                 variable in the referencing scope.
                              </p>
                              
                              
                              <p class="p">The variable value may be specified either using the
                                 <code>@value</code> attribute or in the content of the
                                 <code>&lt;d4p-variable-definition&gt;</code> element. If
                                 <code>@value</code> is specified then the content of the element is
                                 ignored. This allows you to use the content of the variable definition
                                 as documentation for the variable if you choose.
                              </p>
                              
                              
                              <p class="p">If you put the variable value in the content then you may use any
                                 markup allowed where the variable reference is allowed (or, more
                                 accurately, where the content can be usefully and correctly processed,
                                 which is not quite the same thing).
                              </p>
                              
                              
                              <p class="p">Note that variable references are not content references and so the
                                 same strict content model consistency constraints do not necessarily
                                 apply. However, you should be careful to only put markup in variables
                                 that will be correctly and appropriately processed in the context where
                                 the variables are referenced. In practice, this means limiting your
                                 content to normal inline markup and avoiding things like footnotes,
                                 cross references, block elements, and so on. If you want to impose more
                                 constraints on what is allowed in variable definitions, you can use
                                 constraint modules or further specialization to do so. The base markup
                                 as defined by the D4P project errs on the side of generality.
                              </p>
                              
                              
                              <div class="p">The <code>&lt;d4p-variable-definitions&gt;</code> element serves to group
                                 and label sets of variable definitions. The element may have an initial
                                 <code>&lt;title&gt;</code> element, which serves as a descriptive label
                                 for the group, and <code>&lt;d4p-variable-definitions&gt;</code> may be
                                 nested:<pre class="pre codeblock">  ...
  &lt;prolog&gt;
    <strong class="ph b">&lt;d4p-variable-definitions&gt;</strong>
      <strong class="ph b">&lt;title&gt;Top-level variable definitions&lt;/title&gt;</strong>
      <strong class="ph b">&lt;d4p-variable-definitions&gt;</strong>
        <strong class="ph b">&lt;title&gt;Nested variable definitions element&lt;/title&gt;</strong>
        &lt;d4p-variable-definition-fallback
          name="varFallbackDefinedInRootTopic"&gt;This is the fallback value defined
          in the root topic&lt;/d4p-variable-definition-fallback&gt;
      &lt;/d4p-variable-definitions&gt;
    &lt;/d4p-variable-definitions&gt;
  &lt;/prolog&gt;
  ...</pre>
                                 </div>
                              
                              
                              <p class="p">When resolving variables, the first definition within a given scope
                                 (containing element) in document order wins, so in the case of nested
                                 <code>&lt;d4p-variable-definitions&gt;</code> elements, the nesting is not
                                 significant, only the order of the definitions in normal depth-first
                                 tree order. This means that a definition contained by the top-level
                                 variable definitions group but occurring after all nested variable
                                 definition groups could be overridden by a definition within any of the
                                 nested groups. You can take advantage of this behavior to have "default"
                                 values that may be overridden by nested groups used by reference.
                              </p>
                              
                              
                           </div>
                           
                           
                        </div>
                        
                        
                        <div class="topic concept nested1" id="concept_yrk_b4s_y3">
                           
                           <h2 class="title topictitle2">Fallback values:
                              <code>&lt;d4p-variable-definition-fallback&gt;</code></h2>
                           
                           <div class="body conbody">
                              
                              <p class="p">For topics that may used in many contexts, you often want to have
                                 fallback values for the variables referenced from those topics so that
                                 when those variables are not declared at all, an appropriate value is
                                 used, such as "variable XXX not defined" or an appropriate default
                                 value, or whatever. Fallback values are used only when there is no other
                                 in-scope declaration of the variable. That is, you don't want the
                                 fallback value to override attempts to set the variable. 
                              </p>
                              
                              
                              <p class="p">Fallback values are declared using the
                                 <code>&lt;d4p-variable-definition-fallback&gt;</code> element, normally
                                 within topic prologs, although you can declare fallback values within
                                 any scope, just as for other variables.
                              </p>
                              
                              
                              <p class="p">Fallback values are used only when there is no other in-scope
                                 definition of the variable. This includes definitions in the same scope
                                 as the fallback, meaning that if you have both a fallback and normal
                                 definition of the same variable name in the same scope, the fallback
                                 will never be used. You might have this case if you have a set of
                                 fallback values that are reused by conref and you happen, in one use
                                 context, to also define a value for the variable. In that case, the
                                 existence of the fallback will not interfere with the other definition
                                 of the variable.
                              </p>
                              
                              
                           </div>
                           
                           
                        </div>
                        
                        
                        <div class="topic concept nested1" id="concept_k13_zzl_y3">
                           
                           <h2 class="title topictitle2">Variable References: <code>&lt;d4p-variableref_keyword&gt;</code> and
                              <code>&lt;d4p-variableref_text&gt;</code></h2>
                           
                           <div class="body conbody">
                              
                              <p class="p">Variables may be referenced in any context where
                                 <code>&lt;keyword&gt;</code> or <code>&lt;text&gt;</code> are allowed, using
                                 the corresponding specialization,
                                 <code>&lt;d4p-variableref_keyword&gt;</code> or
                                 <code>&lt;d4p-variableref_text&gt;</code>.
                              </p>
                              
                              
                              <div class="p">The content of the reference element is the variable
                                 name:<pre class="pre codeblock">&lt;p&gt;The <strong class="ph b">&lt;d4p-variableref_keyword&gt;prodname&lt;/d4p-variableref_keyword&gt;</strong> 
product...&lt;/p&gt;</pre>
                                 </div>
                              
                              
                              <p class="p">If the variable cannot be resolved (or you don't have processing
                                 support for D4P variables installed), then the content of the reference
                                 element is used, just as for normal <code>&lt;keyword&gt;</code> or
                                 <code>&lt;text&gt;</code> processing. If the variable can be resolved,
                                 then the nearest variable definition is used to determine the effective
                                 value.
                              </p>
                              
                              
                              <div class="p">The effective binding for a variable is determined as follows:
                                 <ol class="ol" id="concept_k13_zzl_y3__ol_h1g_r1m_y3">
                                    
                                    <li class="li">In all cases, only the direct element and map tree ancestry of the
                                       reference is considered, with the exception of topic prologs, which
                                       always appy to the entire topic (including the topic title).
                                       Definitions in sibling topics, maps, or topicrefs are never considered
                                       for the purpose of determining the effective definition for a given
                                       reference. 
                                    </li>
                                    
                                    
                                    <li class="li">The nearest definition within ancestor elements determines the
                                       effective binding. For elements within topics, this includes any
                                       ancestry within the topic body as well as definitions within the
                                       topic's prolog. Note that the placement of the definition within the
                                       ancestor is not important—in particular, the variable definition could
                                       come after the subelement that contains the reference. 
                                    </li>
                                    
                                    
                                    <li class="li">For topics referenced from maps, if there is no definition within
                                       the topic, then the nearest definition in the map tree ancestry
                                       determines the effective binding. That is, definitions are scoped by
                                       topicrefs such that the definition in the nearest topicref to the
                                       topic that references the topic provides the binding.
                                    </li>
                                    
                                    
                                    <li class="li">If the variable is not defined within the topic or within any
                                       topicref in the map tree ancestry, then any definition within the
                                       map's metadata is used. This means that root maps may define default
                                       values for variables.
                                    </li>
                                    
                                    
                                    <li class="li">If a variable is not defined anywhere, processors may choose to
                                       provide default values or otherwise allow for run-time definition of
                                       variables.
                                    </li>
                                    
                                    
                                 </ol>
                                 
                              </div>
                              
                              
                              <aside class="note "><span class="title">Note:</span> Because submap metadata is not always maintained or necessarily even
                                 available in all processing contexts, variables defined in the
                                 <code>&lt;topicmeta&gt;</code> child of submap elements will be ignored.
                                 If you want to define variables in submaps, use a wrapper topicref
                                 element around the topicrefs, either <code>&lt;topicgroup&gt;</code> or
                                 another allowed topicref type.
                              </aside>
                              
                              
                              <p class="p">Stated more informally, the intent of these rules is that elements
                                 define variable scopes within topics and topicrefs define scopes within
                                 maps.
                              </p>
                              
                              
                              <p class="p">Note: Within topics, only references defined within topic documents are
                                 considered—topics related into a hierarchy via maps do not affect the
                                 variable definitions within each other, meaning that variable resolution
                                 processors do not need to look in map-defined ancestor topics for
                                 variable definitions, only literal ancestor topics within the same XML
                                 document. However, if topics are merged because of normal DITA
                                 <code>@chunk</code> processing or via some type of topic merging,
                                 such as is done for the Toolkit's PDF processing, then
                                 previously-separate XML documents may become single XML documents and
                                 thus affect variable resolution. However, this would normally only
                                 affect fallback values such that a variable reference for which there
                                 was no fallback (because none was defined in the topic's direct XML
                                 ancestry) would now have a fallback or a defined value, because one was
                                 defined in an ancestor in the merged document. Because the nearest
                                 definition to a reference is the always used, it is not possible for
                                 chunking and merging to affect the values of variables defined in the
                                 original XML ancestry.
                              </p>
                              
                              
                           </div>
                           
                           
                        </div>
                        
                        
                     </div>
                     
                  </div>
               </section>
               <div class="clear"></div>
               
            </div>
            <div class="clearfix"></div>
         </div>
         <div class="clearfix"></div>
         <div id="footer-container" class="grid_12">
            
            
         </div>
      </div>
   </body>
   
</html>